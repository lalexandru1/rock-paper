<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rock Paper Game</title>
</head>


<body>
    <script>
        let cScore = 0;
        let pScore = 0;
        r = 0;
        //Computer randomly picks
        function computerPlay(){
            var computerChoice = ["Rock", "Paper", "Scissors"];
            return computerChoice[Math.floor(Math.random()*computerChoice.length)];
        }
        //Function for a round of rock-paper-scissors
        function playRound(playerSelection, computerSelection){
            var result;
            var playerSelection
            var toLowerCase = playerSelection .toLowerCase();
            var computerSelection = computerPlay();
            if( (toLowerCase == "rock" && computerSelection == "Paper") || 
                (toLowerCase == "scissors" && computerSelection == "Rock") ||
                (toLowerCase == "paper" && computerSelection == "Scissors") ) {
                    cScore += 1;
                    result="You lose: " + computerSelection + " beats " + playerSelection;
                }

            else if((toLowerCase == "rock" && computerSelection == "Scissors") ||
                    (toLowerCase == "paper" && computerSelection == "Rock") ||
                    (toLowerCase == "scissors" && computerSelection == "Paper")) {
                    pScore += 1;
                    result = "You win: " + playerSelection + " beats " + computerSelection;

                }
            else {
                result = "TIE!";
            }
            r += 1;
            return result;
        }
        // 5 round game function, returns score at the end
        function game(){
            while(r < 5){
                var playerSelection = prompt("rock paper or scissors", "").toLowerCase();
                var computerSelection = computerPlay();
                playRound(playerSelection, computerSelection);
            }
            if(r==5 && cScore > pScore){
                alert("Computer wins! Score: " + cScore+ " - " + pScore);
            }                
            else if(r==5 && pScore > cScore){
                alert("Player wins! Score: " + pScore+ " - " + cScore);
            }else {
                alert("TIE!");
            }
        }
        game();
        
        
        
    </script>
</body>

</html>